# Self-Replicating Worm and Virus Project

## Overview
This GitHub repository contains a self-replicating worm project, implemented in Python. The project is intended for educational purposes only and serves as a demonstration of how self-replicating programs work. It includes three tasks, each building upon the previous one.

## Disclaimer
Use caution when interacting with this code. Deploying self-replicating worms or viruses without proper authorization is illegal and unethical.

## Tasks
### Task 1: FooVirus
### Description: Task 1 introduces a self-replicating virus named FooVirus.
### Functionality:
The virus infects files with the extension .foo in the current directory.
It comments out the existing code in .foo files and adds its own code.
The virus is harmless and displays a message without causing damage.

### Task 2: Self-Replicating Worm
### Description: Task 2 extends the project to a self-replicating worm with added functionalities.
### Functionality:
The worm generates random variations in its code structure to avoid detection.
It attempts to connect to remote hosts using SSH, deploys a modified version of itself, and executes it.
The worm checks for files containing the string "abracadabra" on remote hosts.

### Task 3: Enhanced Worm
### Description: Task 3 further enhances the self-replicating worm with additional features.
### Functionality:
The worm now looks for files containing the string "abracadabra" recursively on remote hosts.
It retrieves matching files, applies random variations to its code, and deploys the modified code on the remote host.



## Acknowledgments
The project draws inspiration from the field of computer security and serves as an educational tool to understand the mechanisms of self-replicating programs. Acknowledgments go to the educational community for fostering an understanding of responsible coding practices.

## Step by Step Guide 
## Task 1 

How I turned the FooVirus into a worm by incorporating networking code in it- 

- Using get\_new\_usernames(), get\_new\_passwds(), get\_fresh\_ipaddresses() functions from AbraWorm.py to access other networks/machines. 

![](https://github.com/RidwanulHaque111/CSE-406---Computer-Security-Sessional/blob/3dc1d16694b0657f2197d8ae7422d6b166c14bcc/Virus%20and%20Malware/Step%20by%20step%20Procedure/Aspose.Words.02005afd-ecdc-490f-8680-82d3649bbfd6.001.jpeg)


- Establishing connections with the Target Host  

  (this block is almost similar to the one used in AbraWorm.py) 

![](https://github.com/RidwanulHaque111/CSE-406---Computer-Security-Sessional/blob/3dc1d16694b0657f2197d8ae7422d6b166c14bcc/Virus%20and%20Malware/Step%20by%20step%20Procedure/Aspose.Words.02005afd-ecdc-490f-8680-82d3649bbfd6.002.jpeg)

- Added new String “fooVirus” that contains the FooVirus code to be executed.

![](https://github.com/RidwanulHaque111/CSE-406---Computer-Security-Sessional/blob/3dc1d16694b0657f2197d8ae7422d6b166c14bcc/Virus%20and%20Malware/Step%20by%20step%20Procedure/Aspose.Words.02005afd-ecdc-490f-8680-82d3649bbfd6.003.jpeg)

- Added a new function ***write\_foo\_to\_file(filename***) that writes the FooVirus code in a new file (Line 147)
- I have created a new file **FooVirus.py** that contains the FooVirus code:

![](https://github.com/RidwanulHaque111/CSE-406---Computer-Security-Sessional/blob/3dc1d16694b0657f2197d8ae7422d6b166c14bcc/Virus%20and%20Malware/Step%20by%20step%20Procedure/Aspose.Words.02005afd-ecdc-490f-8680-82d3649bbfd6.004.png)

- Deploy this file on the target Host (Line 150-151) 
- Run this file on the target Host (Line 154) 

![](https://github.com/RidwanulHaque111/CSE-406---Computer-Security-Sessional/blob/3dc1d16694b0657f2197d8ae7422d6b166c14bcc/Virus%20and%20Malware/Step%20by%20step%20Procedure/Aspose.Words.02005afd-ecdc-490f-8680-82d3649bbfd6.005.jpeg)

- Connect to other Host (Line 177) 
- Deploy the FooVirus file (Line 180) 
- Execute the FooVirus (Line 181) 

![](https://github.com/RidwanulHaque111/CSE-406---Computer-Security-Sessional/blob/3dc1d16694b0657f2197d8ae7422d6b166c14bcc/Virus%20and%20Malware/Step%20by%20step%20Procedure/Aspose.Words.02005afd-ecdc-490f-8680-82d3649bbfd6.006.jpeg)

- Close the connection (Line 182) 
- Remove the temporary “FooVirus.py” file from main Machine.(Line 183) 

## Task 2

How I modified the AbraWorm.py so that no two copies of the worm are exactly the same in all of the infected hosts: 

- Adding a new function ***get\_random\_variation()*** 

![](https://github.com/RidwanulHaque111/CSE-406---Computer-Security-Sessional/blob/3dc1d16694b0657f2197d8ae7422d6b166c14bcc/Virus%20and%20Malware/Step%20by%20step%20Procedure/Aspose.Words.02005afd-ecdc-490f-8680-82d3649bbfd6.007.jpeg)


This function can add operations to- 

- Put random comments in a random block of code 
- Import other Library 
- Print “Hello World!” in random position of the code- block 
- Print 1-10 or 1-99 numbers  
- Assign new Variables 
- Add new function foo() that returns “bar” 
- Add new function that returns nothing 
- Print numbers using List Comprehension Method 
- Print Custom Variations 

**This changes will be added in the new AbraWorm.py code sent over the network.** 

- Store the content of the main **AbraWorm.py** to a variable. 
- Apply Random Variation 

![](https://github.com/RidwanulHaque111/CSE-406---Computer-Security-Sessional/blob/3dc1d16694b0657f2197d8ae7422d6b166c14bcc/Virus%20and%20Malware/Step%20by%20step%20Procedure/Aspose.Words.02005afd-ecdc-490f-8680-82d3649bbfd6.008.jpeg)

- When Applying variation, **I made sure that random operations are added in between the new-lines or Blank lines of the code so that the overall function of the main AbraWorm.py does not change.** 
- Split the content into lines (Line 133) 
- Find Indices of lines that are empty (Line 136) 
- Choose a random index from the list of empty line indices (Line 139-143) 
- Insert random variations (Line 146) 

![](https://github.com/RidwanulHaque111/CSE-406---Computer-Security-Sessional/blob/3dc1d16694b0657f2197d8ae7422d6b166c14bcc/Virus%20and%20Malware/Step%20by%20step%20Procedure/Aspose.Words.02005afd-ecdc-490f-8680-82d3649bbfd6.009.png)

- Write the modified content to a temporary File (Line 150-152) 
- Process the extension so that the modified AbraWorm.py has the same file name as before (Line 154) 
- Deploy the modified Script with same name (Line 156) 
- Close the connection (line 157) 

## Task 3

How I extended the code so that it descends down the directory structure and examines the files at the entry level: 

- Use **‘grep -rl abracadabra \*’**  to iterate through all subdirectories. 

![](https://github.com/RidwanulHaque111/CSE-406---Computer-Security-Sessional/blob/3dc1d16694b0657f2197d8ae7422d6b166c14bcc/Virus%20and%20Malware/Step%20by%20step%20Procedure/Aspose.Words.02005afd-ecdc-490f-8680-82d3649bbfd6.010.png)

- Get the absolute path of the file on local machine (Line 158)
- Get the name of the file without the directory path (Line 162)
- Send the file over the network (Line 165)

![](https://github.com/RidwanulHaque111/CSE-406---Computer-Security-Sessional/blob/3dc1d16694b0657f2197d8ae7422d6b166c14bcc/Virus%20and%20Malware/Step%20by%20step%20Procedure/Aspose.Words.02005afd-ecdc-490f-8680-82d3649bbfd6.011.png)

- Done! 


**Before Executing Task 1:** Machine 1 

![](https://github.com/RidwanulHaque111/CSE-406---Computer-Security-Sessional/blob/3dc1d16694b0657f2197d8ae7422d6b166c14bcc/Virus%20and%20Malware/Step%20by%20step%20Procedure/Aspose.Words.02005afd-ecdc-490f-8680-82d3649bbfd6.012.png)

Machine 2 

![](https://github.com/RidwanulHaque111/CSE-406---Computer-Security-Sessional/blob/3dc1d16694b0657f2197d8ae7422d6b166c14bcc/Virus%20and%20Malware/Step%20by%20step%20Procedure/Aspose.Words.02005afd-ecdc-490f-8680-82d3649bbfd6.013.png)

**After Executing Task 1:** Machine 1 

![](https://github.com/RidwanulHaque111/CSE-406---Computer-Security-Sessional/blob/3dc1d16694b0657f2197d8ae7422d6b166c14bcc/Virus%20and%20Malware/Step%20by%20step%20Procedure/Aspose.Words.02005afd-ecdc-490f-8680-82d3649bbfd6.014.png)

Machine 2 

![](https://github.com/RidwanulHaque111/CSE-406---Computer-Security-Sessional/blob/3dc1d16694b0657f2197d8ae7422d6b166c14bcc/Virus%20and%20Malware/Step%20by%20step%20Procedure/Aspose.Words.02005afd-ecdc-490f-8680-82d3649bbfd6.015.jpeg)

**Before Executing Task 2:** 

Machine 1- 

![](https://github.com/RidwanulHaque111/CSE-406---Computer-Security-Sessional/blob/3dc1d16694b0657f2197d8ae7422d6b166c14bcc/Virus%20and%20Malware/Step%20by%20step%20Procedure/Aspose.Words.02005afd-ecdc-490f-8680-82d3649bbfd6.017.png)


**After Executing Task 2:** 
Machine 1 and 2 Respectively-

![](https://github.com/RidwanulHaque111/CSE-406---Computer-Security-Sessional/blob/3dc1d16694b0657f2197d8ae7422d6b166c14bcc/Virus%20and%20Malware/Step%20by%20step%20Procedure/Aspose.Words.02005afd-ecdc-490f-8680-82d3649bbfd6.018.jpeg)

![](https://github.com/RidwanulHaque111/CSE-406---Computer-Security-Sessional/blob/3dc1d16694b0657f2197d8ae7422d6b166c14bcc/Virus%20and%20Malware/Step%20by%20step%20Procedure/Aspose.Words.02005afd-ecdc-490f-8680-82d3649bbfd6.019.jpeg)

**Before Executing Task 3:** 

Machine 1 

![](https://github.com/RidwanulHaque111/CSE-406---Computer-Security-Sessional/blob/3dc1d16694b0657f2197d8ae7422d6b166c14bcc/Virus%20and%20Malware/Step%20by%20step%20Procedure/Aspose.Words.02005afd-ecdc-490f-8680-82d3649bbfd6.020.png)

Machine 2 

![](https://github.com/RidwanulHaque111/CSE-406---Computer-Security-Sessional/blob/3dc1d16694b0657f2197d8ae7422d6b166c14bcc/Virus%20and%20Malware/Step%20by%20step%20Procedure/Aspose.Words.02005afd-ecdc-490f-8680-82d3649bbfd6.021.png)


**After Executing Task 3:** 
Run the file 

![](https://github.com/RidwanulHaque111/CSE-406---Computer-Security-Sessional/blob/3dc1d16694b0657f2197d8ae7422d6b166c14bcc/Virus%20and%20Malware/Step%20by%20step%20Procedure/Aspose.Words.02005afd-ecdc-490f-8680-82d3649bbfd6.022.jpeg)

***Machine 1 has been infected with the Worm (modified)*** 

![](https://github.com/RidwanulHaque111/CSE-406---Computer-Security-Sessional/blob/3dc1d16694b0657f2197d8ae7422d6b166c14bcc/Virus%20and%20Malware/Step%20by%20step%20Procedure/Aspose.Words.02005afd-ecdc-490f-8680-82d3649bbfd6.023.png)


***Machine 2 receives malicious files from Machine 1:*** 

![](https://github.com/RidwanulHaque111/CSE-406---Computer-Security-Sessional/blob/3dc1d16694b0657f2197d8ae7422d6b166c14bcc/Virus%20and%20Malware/Step%20by%20step%20Procedure/Aspose.Words.02005afd-ecdc-490f-8680-82d3649bbfd6.024.png)

